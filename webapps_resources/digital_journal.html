<!DOCTYPE html >
<html>
    <head>
        <title>Digital Journal</title>
    </head>
    <style>
        :root 
        {
            --paragraph-font: normal normal 1rem/1.4 Georgia, serif; 
            --background-gradient: linear-gradient(to right, rgba(255,255,255,0.4), rgba(255,255,255,0.1));

        }
        
        body 
        {
            background: var(--background-gradient);
        }
        
        #page_block #page_title
        {
            position:relative;
            width:98%;
            padding: 0.5% 0%;
            padding-left: 0%;
            margin: 0px;
            top:0vw;
            color:black;
            border:none 0px black;
            font-family:Rockwell;
            font-size: 1.5rem;
            /*background-color:#995500;*/
            /*
            background-color:rgba(255,255,255,0.8);
            background-image:url("../images/main_heading_texture.jpg");
            background-blend-mode: overlay;
            background-position: center;
            background-size: 100px;
            background-repeat: repeat;*/
            text-shadow: 0px 0px white;
            text-align: center;
            letter-spacing:2px;
            word-wrap:break-word;
        }
        
        #page_content #menu
        {
            position:relative;
            
            display: flex;
            justify-content: center; /* THIS evenly distributes content vertically */
            flex-wrap: wrap;
            
            border: solid 1px blue;
            width: 40%;
            margin:  2px auto;
            padding: 2px;
            
            /*The following will ensure that the width of the element will not grow with the added border-size.
            So the border will be within the defined element width.
            */
            -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
            -moz-box-sizing: border-box;    /* Firefox, other Gecko */
            box-sizing: border-box;         /* Opera/IE 8+ */
        }
        
        .page_button
        {
            position: relative;
            min-width: 45px; /*we need at least this width to be able to display the button text value properly*/
            font-size: 12px;
            font-family: Georgia;
            padding: 1%;
            margin: 2px 1%;
            background-image: radial-gradient(circle, rgba(255,255,255,1.0), rgba(143,55,0, 0.001));
            font-size: 12px;
            border: outset 1px black;
            border-radius: 5px;
            
            /*The following will ensure that the width of the element will not grow with the added border-size.
            So the border will be within the defined element width.
            */
            -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
            -moz-box-sizing: border-box;    /* Firefox, other Gecko */
            box-sizing: border-box;         /* Opera/IE 8+ */
        }

        #journalled_content
        {
            margin: 0.5%;
        }
        
        .jour_entry
        {
            position: relative;
            overflow: hidden;
            width: 98%;
            margin:  1%;
            border: ridge 1px black;
            border-radius: 1vw;
            /*The following will ensure that the width of the element will not grow with the added border-size.
            So the border will be within the defined element width.
            */
            -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
            -moz-box-sizing: border-box;    /* Firefox, other Gecko */
            box-sizing: border-box;         /* Opera/IE 8+ */
        }
        
        .jour_entry_title
        {
            background-color: white; 
            font-family: Georgia; 
            font-size: 19px; 
            width: 98%;
            margin: 2px 1%;
            padding: 0.5% 1%;
            border-radius: 1vw;
            /*The following will ensure that the width of the element will not grow with the added border-size.
            So the border will be within the defined element width.
            */
            -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
            -moz-box-sizing: border-box;    /* Firefox, other Gecko */
            box-sizing: border-box;         /* Opera/IE 8+ */
        }
        
        .jour_entry_content
        {
            background-color: white; 
            font: var(--paragraph-font);

            field-sizing: content;
            width: 98%;
            margin: 2px 1%;
            padding: 1%;
            border-radius: 1vw;
            /*The following will ensure that the width of the element will not grow with the added border-size.
            So the border will be within the defined element width.
            */
            -webkit-box-sizing: border-box; /* Safari/Chrome, other WebKit */
            -moz-box-sizing: border-box;    /* Firefox, other Gecko */
            box-sizing: border-box;         /* Opera/IE 8+ */
        }
        
          /* Basic styling for the button */
          .dropdown 
          {
            position: relative;
            display: inline-block;
            margin: 2px 1%;
          }

          /* Style for the button */
          #dropbtn 
          {
            
          }

          /* Container for the dropdown menu */
          .dropdown-content 
          {
            display: none; /* Hidden by default */
            position: absolute;
            background-color: #f1f1f1;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
          }

          /* Style for each menu item */
          .dropdown-content a 
          {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
          }

          /* Hover effect for menu items */
          .dropdown-content a:hover 
          {
            background-color: #ddd;
          }

          /* Show the menu when active */
          .show 
          {
            display: block;
          }
    </style>
    <body>
        <header id="page_header">
            <!--The content will be added from javascript-->
        </header>
        <div id="page_block">
            <h2 id="page_title">Digital Journal</h2>
            <div id="page_content">
                <div id="menu">
                    <input id="add_button" class="page_button" type = "button" value="Add Entry" onclick = "addPost()"></input>
                    <input id="save_button" class="page_button" type = "button" value="Save/Download Page" onclick = "savePage()"></input>
                </div>
                <div id = "journalled_content">
                    <div class = "jour_entry">
                        <div class="dropdown">
                            <button onclick="toggleDropdown()" id="dropbtn" class="page_button">...</button>
                            <div id="myDropdown" class="dropdown-content">
                                <a href="#">Edit</a>
                                <a href="#">Remove</a>
                            </div>
                        </div>
                        <div class="jour_entry_title" contenteditable="false">Corporate growth</div>
                        <div class="jour_entry_content" contenteditable="false">
                            ‚ÄúIf You Have to Ask for Growth, Maybe It‚Äôs Not Growth At All.‚Äù
                            "Growth" is everywhere‚Äîon every corporate slide deck, every motivational poster, every 
                            one-on-one feedback form.
                            But here‚Äôs a truth:
                            Everyone is growing‚Äîwhether you ask them or not.
                            Sit still in your bed long enough and a thought will eventually hit you. That thought gets bigger, becomes an idea, maybe a plan, a prototype, then something real.
                            That‚Äôs growth.
                            No pressure. No deadline. No slogans.
                            We‚Äôre not against growth.
                            We‚Äôve all grown‚Äîfrom not knowing how to speak - to reading, writing, learning math, even foreign languages.
                            We‚Äôve grown because life asked us to.
                            Society structured it through school. And yes, many of us hated school‚Äîbecause it wasn‚Äôt our growth, it was demanded growth.
                            Now companies are doing the same.

                            What we call ‚Äúgrowth‚Äù today often isn‚Äôt growth at all.

                            üí• It‚Äôs pressure.
                            üí• It‚Äôs fear.
                            üí• It‚Äôs being pushed to adapt‚Äîoften with no support, no pause, no peace.

                            I‚Äôve grown.
                            From freezing at basic math to writing multi-language software systems.
                            From self-doubt to weekends learning out of obsession, not obligation.
                            From curiosity‚Äînot compliance.

                            But lately, ‚Äúgrowth‚Äù feels like a weapon in the corporate world.

                            Learn this. Adapt to that. Work faster. Pick it up‚Äîor fall behind.

                            üîÅ Real growth is gradual. Personal. Messy.
                            It comes from a desire to understand‚Äînot a fear of becoming irrelevant.

                            Today‚Äôs version of the ‚Äúgrowth mindset‚Äù sometimes sounds more like this:

                            ‚ÄúIf you‚Äôre struggling, you‚Äôre not trying hard enough.‚Äù
                            ‚ÄúIf you‚Äôre burned out, it‚Äôs your attitude.‚Äù
                            ‚ÄúIf you‚Äôre not constantly learning, you‚Äôre lazy.‚Äù

                            That‚Äôs not empowerment. That‚Äôs gaslighting.

                            I don‚Äôt want promotions or applause.
                            I want peace. Mastery. Time. Clarity.
                            And the freedom to grow when it‚Äôs meaningful, not just when it‚Äôs demanded.

                            If you have to ask people to grow, maybe that‚Äôs not growth‚Äîit‚Äôs enforced adaptation.
                            It taps into survival instincts, not passion. And most people aren't thriving when they're just trying to stay afloat.

                            So next time you talk about ‚Äúgrowth,‚Äù
                            Ask yourself‚Äî
                            ‚ú® Is it their desire to grow?
                            ‚ú® Or your need for more productivity?

                            Growth isn‚Äôt about chasing the light at the end of a tunnel that only ends when you die.
                            It‚Äôs about becoming‚Äîon your own terms.
                            A better version of yourself.
                            And since it‚Äôs about you, it should be under your control.
                            But right now, it‚Äôs dictated by trends, markets, and demands. 
                        </div>
                    </div>
                </div>
            </div>
</html>

<script>
    var journalled_content = document.getElementById("journalled_content");
    var djour_entries = document.getElementsByClassName("jour_entry");
    
    for (var index=0; index < djour_entries.length; index++)
    {
        djour_entries[index].children[0].children[1].children[0].onclick = toggleEdit;
        djour_entries[index].children[0].children[1].children[1].onclick = remove_entry;
        //djour_entries[index].children[1].onclick = remove_entry;
        //djour_entries[index].onclick = expand_collapse_content;
    }
    
    function addPost()
    {
        // Create the main container div
        const entryDiv = document.createElement('div');
        entryDiv.className = 'jour_entry';

        // Create the Edit button
        const editBtn = document.createElement('input');
        editBtn.type = 'button';
        editBtn.value = 'Post';
        editBtn.className = 'page_button';
        // Add event listener for editing
        editBtn.onclick = toggleEdit;
        
        // Create the Remove button
        const removetBtn = document.createElement('input');
        removetBtn.type = 'button';
        removetBtn.value = 'Remove';
        removetBtn.className = 'page_button';
        // Add event listener for editing
        removetBtn.onclick = remove_entry;

        // Create the title input
        const titleInput = document.createElement('input');
        titleInput.type = 'text';
        titleInput.className = 'jour_entry_title';
        titleInput.value = 'New Title';
        titleInput.disabled = false; // Initially disabled

        // Create the content textarea
        const contentTextarea = document.createElement('textarea');
        contentTextarea.className = 'jour_entry_content';
        contentTextarea.disabled = false; // Initially disabled
        contentTextarea.textContent = 'Your content here...';

        // Append elements to the main container
        entryDiv.appendChild(editBtn);
        entryDiv.appendChild(removetBtn);
        entryDiv.appendChild(titleInput);
        entryDiv.appendChild(contentTextarea);

        // Append the journal entry to the container
        journalled_content.insertBefore(entryDiv, journalled_content.firstChild);
    }

        // Toggle read-only / editable state
    function toggleEdit() 
    {
        
        const entry_post = this.parentNode.parentNode.parentNode;
        
        entry_post.children[0].children[0].textContent = "Post";
        entry_post.children[0].children[0].onclick = saveEdit;
        entry_post.children[1].contentEditable = "true";
        entry_post.children[2].contentEditable = "true";
        entry_post.children[1].style.border = "solid 1px black";
        entry_post.children[2].style.border = "solid 1px black";

    }
    
    function saveEdit()
    {
        const entry_post = this.parentNode.parentNode;
        
        entry_post.children[0].children[0].textContent = "...";
        entry_post.children[0].children[0].onclick = toggleDropdown;
        entry_post.children[1].contentEditable = "false";
        entry_post.children[2].contentEditable = "false";
        entry_post.children[1].style.border = "none 1px black";
        entry_post.children[2].style.border = "none 1px black";
    }
    
    function savePage()
    {
        // Get the current HTML content
        const textToWrite = document.documentElement.outerHTML;
    
        // Trigger download of the HTML file
        const textFileAsBlob = new Blob([textToWrite], { type: 'text/html' });
        const downloadLink = document.createElement('a');

        downloadLink.download = document.title + ".html";
        downloadLink.innerHTML = "Download File";
        
        if (window.webkitURL != null) 
        {
            // Chrome allows the link to be clicked without actually adding it to the DOM.
            downloadLink.href = window.webkitURL.createObjectURL(textFileAsBlob);
        } 
        else 
        {
            // Firefox requires the link to be added to the DOM before it can be clicked.
            downloadLink.href = window.URL.createObjectURL(textFileAsBlob);
            downloadLink.onclick = destroyClickedElement;
            downloadLink.style.display = "none";
            document.body.appendChild(downloadLink);
        }
        
        downloadLink.click();
    };
    
    function expand_collapse_content()
    {
        if (this.children[2].style.fieldSizing == "content")
        {
            this.children[2].style.fieldSizing = "unset"
        }
        else
        {
            this.children[2].style.fieldSizing = "content";
        }
    }
    
    function remove_entry()
    {
        journalled_content.removeChild(this.parentNode.parentNode.parentNode);
    }
    
    function toggleDropdown() 
    {
      document.getElementById("myDropdown").classList.toggle("show");
    }

    // Close the dropdown if the user clicks outside of it
    window.onclick = function(event) 
    {
      if (!event.target.matches('#dropbtn')) 
      {
        const dropdowns = document.getElementsByClassName("dropdown-content");
        for (let i = 0; i < dropdowns.length; i++) 
        {
            const openDropdown = dropdowns[i];
            if (openDropdown.classList.contains('show')) 
            {
                openDropdown.classList.remove('show');
            }
        }
      }
    }
</script>